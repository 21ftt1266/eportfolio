<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>week10-e-b-s</title>
    <style>
    #myform{display: grid; width: 70%;margin: 0 auto;grid-template-columns:1fr 1fr 1fr;grid-auto-rows: 3em;}
    input[type="number"]{height: 1.5em;width: 4em}


        /*no additional css is required*/

  </style>
</head>
<!-- do not insert additional id attributes to any element -->
<!-- do not remove any inline styles -->
<body>
<body onload="hide()">
<form action="">
<div id="myform">
<h3 style="grid-column: 1/span 3;">Enrichment Points Calculator</h3>


<span>Level</span>
<div>
  <select name="level" id="level" onChange="show(this.value); reset();">
  <option value="0">select</option>
  <option value="international">international</option>
  <option value="national">national</option>
</select>
</div>
<span><button class="hideall" id="reload">Reset form</button></span>

<span></span><span></span>
<span class="hideall"># of participation</span>


<span class="hide1 hideall">Achievement for International</span>
<div class="hide1  hideall">
<select name="international" id="international" onchange="calculation(); reset2()">
  <option value="0">select</option>
  <option value="won trophy">won trophy</option>
    <option value="participation">participation</option>
</select>
</div>
<input type="number" id="internationalfrequency" min="0" max="5" class="hide1  hideall" value="0">

<span class="hide2  hideall">National Level - Choose type</span>
<div style="grid-column: 2/4;" class="hide2  hideall">
<select name="types" id="types" onchange="show1(); reset3()">
  <option value="0">select</option>
  <option value="club activities">club activities</option>
    <option value="local events">local event</option>
      <option value="both">both</option>

</select>
</div>


<span class="hide21  hideall">club activities your role</span>
<div class="hide21  hideall">
<select name="clubactivities" id="clubactivities" onchange="calculation()">
  <option value="0">select</option>
  <option value="president">president</option>
    <option value="secretary">secretary</option>
      <option value="member">member</option>
</select>
</div>
<input type="number" id="cafrequency" min="0" max="10" value="0" class="hide21  hideall">

<span class="hide22  hideall">Local event role</span>
<div class="hide22  hideall">
<select name="localevents" id="localevents" onchange="show1(); calculation()">
  <option value="0">select</option>
  <option value="organizer">organizer</option>
    <option value="participant">participant</option>
</select>
</div>
<input type="number" id="lefrequency" min="0" max="10" value="0" class="hide22  hideall">

<span class="hideall">You are in semester</span>
<div style="grid-column:2/span 2" class="hideall">
  <select name="semester" id="semester" onchange="calculation()">
  <option value="0">select</option>
  <option value="1">1</option>
  <option value="2">2</option>
  <option value="3">3</option>
  <option value="4">4</option>
  <option value="5">5</option>
  <option value="6">6</option>
</select>
</div>
<div id="epstatus" style="grid-column:1/span 3">

</div>
</form>
<script>

 //write all the required functions here
 //indentation is important
 //also neatness

// repitition is not in the syllabus. but students may use loop since  they learnt this concept in ITP
//  you are expected to use since covered in the classes:
// function with parameters
// getElementsByName
// getElementsById

// additionally
// getElementsByClassName

  var ep = document.getElementById('epstatus');
  var ep1 = document.getElementById('epstatus');
  var ep2 = document.getElementById('epstatus');
  var ep3 = document.getElementById('epstatus');

  function hide() {
    var hideAll = document.getElementsByClassName('hideall');
    for (var i = 0; i < hideAll.length; i++) {
      hideAll[i].style.display = 'none';
    }
  }

  function show(level) {

    hide();

    var level = document.getElementById('level');
    var hideall = document.getElementsByClassName('hideall');
    var hide1 = document.getElementsByClassName('hide1');
    var hide2 = document.getElementsByClassName('hide2');

    document.getElementById('reload').style.display = 'block';
    document.getElementById('semester').style.display = 'block';
    hideall[1].style.display = 'block';
    hideall[13].style.display = 'block';
    hideall[14].style.display = 'block';

    if(level.options[level.selectedIndex].text=="international") {
      for (var i = 0; i < hide1.length; i++) {
        hide1[i].style.display = 'block';
      }
      for (var i = 0; i < hide2.length; i++) {
        hide2[i].style.display = 'none';
      }
    }
    else if(level.options[level.selectedIndex].text=="national") {
      for (var i = 0; i < hide2.length; i++) {
        hide2[i].style.display = 'block';
      }
      for (var i = 0; i < hide1.length; i++) {
        hide1[i].style.display = 'none';
      }
    }
  }

  function show1 () {

    var types = document.getElementById('types');
    var hide22 = document.getElementsByClassName('hide22');
    var hide21 = document.getElementsByClassName('hide21');

    if (types.value == "local events") {
      for (var i = 0; i < hide22.length; i++) {
        hide22[i].style.display = 'block';
      }
      for (var i = 0; i < hide21.length; i++) {
        hide21[i].style.display = 'none';
      }
    }
    else if (types.value == "club activities") {
      for (var i = 0; i < hide21.length; i++) {
        hide21[i].style.display = 'block';
      }
      for (var i = 0; i < hide22.length; i++) {
        hide22[i].style.display = 'none';
      } 
    }
    else if (types.value == "both") {
      for (var i = 0; i < hide21.length; i++) {
        hide21[i].style.display = 'block';
      }  
      for (var i = 0; i < hide22.length; i++) {
        hide22[i].style.display = 'block';
      }
    }

  }

  //EP POINTS ALLOCATION AND TEXT MESSAGES

  function calculation() {

    var IP = ""; 
    var CAP = ""; 
    var LEP = "";

    var international = document.getElementById('international');
    var clubActivities = document.getElementById('clubactivities');
    var LocalEvents = document.getElementById('localevents');

    // INTERNATIONAL POINTS

    if (international.value=="won trophy") {
      IP = 45;
    }
    else if (international.value=="participation"){
      IP = 25;
    }

    // CLUB ACTIVITIES POINTS

    if (clubActivities.value=="president") {
      CAP = 15;
    }
    else if (clubActivities.value=="secretary") {
      CAP = 10;
    }
    else if (clubActivities.value=="member") {
      CAP = 5;
    }

    // LOCAL EVENTS POINTS

    if (localevents.value=="organizer") {
      LEP = 8;
    }
    else if (localevents.value=="participant") {
      LEP = 3;
    }      

    ep = IP*internationalfrequency.value;
    ep1 = CAP*cafrequency.value;
    ep2 = LEP*lefrequency.value;
    ep3 = ep1+ep2;

    var semester = document.getElementById('semester');

    if (semester.value <= 3 && ep <= 32 ) {
      sem = "You need to participate more!";
    }
    else if (semester.value <= 3 && ep >= 32) {
      sem = "Good job!";
    }
    else if (semester.value == 4 && ep <= 32 || semester.value == 5 && ep <= 32) {
      sem = "You need to be more active than before!";
    }
    else if (semester.value == 4 && ep >= 32 || semester.value == 5 && ep >= 32) {
      sem = "Well done!";
    }
    else if (semester.value == 6 && ep <= 32) {
      sem = "Please contact CSDI asap";
    }
    else {
      sem = "Reminder: You need 64 points to graduate";
    }

    if (international.value != 0 && semester.value != 0) {
      document.getElementById("epstatus").innerHTML = "EP: " + ep +'<br>' + sem;
    }
    if (clubActivities.value != 0 && semester.value != 0) {
      document.getElementById("epstatus").innerHTML = "EP: " + ep1 +'<br>' + sem;
    }
    if (localevents.value != 0 && semester.value != 0) {
      document.getElementById("epstatus").innerHTML = "EP: " + ep2 +'<br>' + sem;
    }
    if (clubActivities.value != 0 && localevents.value != 0 && semester.value != 0) {
      document.getElementById("epstatus").innerHTML = "EP: " + ep3 +'<br>' + sem;
    }
  }

  
  //DROPDOWN SELECTION RESETS


  //Reset Under Level
    function reset(){
  var level = document.getElementById('level');
  if(level.options[level.selectedIndex].text=="international") {
  level.value = "international";
  internationalfrequency.value = 0;
  clubactivities.value = 0;
  cafrequency.value = 0;
  localevents.value = 0;
  lefrequency.value = 0;
  semester.value = 0;
  epstatus.innerHTML = "";
  }

  else if(level.options[level.selectedIndex].text=="national"){
  level.value = "national";
  internationalfrequency.value = 0;
  clubactivities.value = 0;
  cafrequency.value = 0;
  localevents.value = 0;
  lefrequency.value = 0;
  semester.value = 0;
  types.value = 0;
  epstatus.innerHTML = "";
  }
}


  //Reset Under Achievement(International)
function reset2(){
  var international= document.getElementById('international');
  if(international.options[international.selectedIndex].text=="participation") {
  level.value = "international";
  internationalfrequency.value = 0;
  cafrequency.value = 0;
  lefrequency.value = 0;
  semester.value = 0;
  epstatus.innerHTML = "";
  }

  else if(international.options[international.selectedIndex].text=="won trophy") {
  level.value = "international";
  internationalfrequency.value = 0;
  cafrequency.value = 0;
  lefrequency.value = 0;
  semester.value = 0;
  epstatus.innerHTML = "";
  }
}
  

  //Reset Under National Level(National)
  function reset3(){
  var national= document.getElementById('types');
  if(types.options[types.selectedIndex].text=="club activities") {
  level.value = "national";
  internationalfrequency.value = 0;
  clubactivities.value = 0;
  cafrequency.value = 0;
  localevents.value = 0;
  lefrequency.value = 0;
  semester.value = 0;
  epstatus.innerHTML = "";
  }

  else if(types.options[types.selectedIndex].text=="local events") {
  level.value = "national";
  internationalfrequency.value = 0;
  clubactivities.value = 0;
  cafrequency.value = 0;
  localevents.value = 0;
  lefrequency.value = 0;
  semester.value = 0;
  epstatus.innerHTML = "";
  }

  else if(types.options[types.selectedIndex].text=="both") {
  level.value = "national";
  internationalfrequency.value = 0;
  clubactivities.value = 0;
  cafrequency.value = 0;
  localevents.value = 0;
  lefrequency.value = 0;
  semester.value = 0;
  epstatus.innerHTML = "";
  }
}
</script>

</body>
</html>